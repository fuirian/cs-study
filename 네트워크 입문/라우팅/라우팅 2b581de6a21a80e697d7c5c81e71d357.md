# 라우팅

### 라우터 간 통신

- 기본 게이트웨이
    - WAN에 진입하기 위해 처음으로 거치는 장치
    - LAN→WAN 출입구 역할
    - 목적지 IP 주소 확인
- 라우팅 테이블
    - 라우터가 받은 데이터를 어느 경로로 보낼지 결정하기 위해 사용하는 표
    - 목적지 IP 주소와 해당 목적지로 가기 위한 다음 라우터의 IP 주소로 구성

### PPP 프레임

- 라우터에서 라우터로 IP 패킷을 전송할 때 패킷의 시작과 끝을 구분하기 위해 특정한 패턴으로 감싸는 것
- 프레임 없이 IP 패킷을 전송하면 패킷을 구분할 수 없는 문제
- IP 패킷 앞 플래그, 주소, 제어, 프로토콜 필드
- 뒤 FCS, 플래그 필드
- **플래그**
    - 프래임의 시작
    - 1바이트로 구성 항상 `0111 1110`
- **주소**
    - 브로드캐스트 주소
    - 1바이트로 구성 항상 `1111 1111`
- **제어**
    - 데이터를 전달하는 프레임
    - 1바이트로 구성 항상 `0000 0011`
- **프로토콜**
    - 어떤 프로토콜의 데이터인지 나타냄
    - 2바이트로 구성
    - ex) IP 패킷: `0x0021`
- **데이터**
    - 실제로 전송할 IP 패킷
- **FCS**
    - 오류 검출용 데이터
    - 2바이트 구성
- **플래그**
    - 프레임의 끝
    - 1바이트 구성 항상 `0111 1110`
- 라우터 1 IP패킷을 PPP프레임으로 감싸 라우터 2로 전송
- → 라우터2 PPP프레임을 열어 목적지 IP 주소 확인
- → 라우팅 테이블 참조해 목적지 컴퓨터로 가기 위해 다음 라우터 IP 주소 확인
- → 반복하여 LAN에 진입하기 전  최종 라우터까지 전송