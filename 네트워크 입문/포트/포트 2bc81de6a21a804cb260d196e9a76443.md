# 포트

### 포트의 개념

- 컴퓨터간 통신 시 동일 프로토콜 사용
- **HTTP**: 웹 브라우저를  띄워 웹 서버와 데이터를 주고받을 때
- **SSH**: 원격지에 있는 서버에 접속할 때
- **FTP**: 파일 서버에 데이터를 업로드하거나 다운로드 할 때
- **포트**
    - 컴퓨터 내부에 실행되는 특정 어플리케이션이나 서비스를 식별하는 논리적인 위치를 표시
    - 애플리케이션마다 포트 번호를 붙여 구분
    - 하나의 IP 주소를 가진 컴퓨터에서 여러 애플리케이션이 동시에 운영될 수 있도록 데이터를 정확하게 각 프로그램으로 전달하는 길잡 이 역할
- IP 주소 = 집 주소
- 포트 = 집 안의 방 번호

### 포트의 유형

- **잘 알려진 포트**
    - 인터넷에서 기본적으로 사용되는 프로토콜을 위해 예약된 포트
    - 0~1,023번 사용
    - IANA에서 관리
    - 특정 프로토콜이나 서비스가 항 상 이 포트를 사용하도록 약속
    - **20, 21번**: FTP 프로토콜, 파일 전송 시 사용
    - **22번**: SSH 프로토콜, 원격 컴퓨터에 로그인 시 사용
    - **25번**: SMTP 프로토콜, 이메일 보낼 때 사용
    - **110번**: POP3 프로토콜, 이메일을 받아 내 컴퓨터에 다운로드 시 사용
    - **143번**: IMAP 프로토콜, 이메일을 받아 서버에 보관한 상태로 관리 시 사용
    - **80번**: HTTP 프로토콜, 웹 페이지 주고받을 시 사용
    - **443번**: HTTPS 프로토콜, 암호화한 웹 페이지 주고받을 시 사용
- **등록된 포트**
    - 널리 사용하는 프로토콜 또는 회사나 단체에서 자체 개발한 애플리케이션에 사용하는 포트
    - 1,024~49,151번 사용
    - 누구나 IANA에 신청해 특정 애플리케이션이나 서비스 용도로 등록한 후 사용 가능
    - 유효기간 미지정, 별도의 취소나 반납 요청이 없을 시 무기한 사용 가능
    - **3,306번**: MySQL 데이터베이스의 기본 포트
    - **5,432번**: PostgreSQL 데이터베이스의 기본 포트
    - **8,080번**: HTTP 대체 포트로 자주 사용
- **동적 포트**
    - 특정 프로토콜이나 서비스에 고정되지 않고 필요할 때마다 운영체제가 자동으로 할당해주는 포트
    - 49,152~65,535번 사용

### 포트를 이용한 통신 연결 과정

- 두 컴퓨터 통신 시 같은 프로토콜을 사용한다고 해서 반드시 같은 포트를 써야 하는 것은 아님
- 클라이언트 → 동적 포트 사용
- 서버 → 잘 알려진 포트 사용
- HTTP 통신을 하는 두 컴퓨터 간에 포트를 이용한 연결 과정
    - **클라이언트 → 서버**: 포트 사용 여부 메시지 전송
    - **서버 → 애플리케이션**: 포트 사용 중 애플리케이션 연결 확인
    - **웹 서버**: 연결 가능 응답
    - **서버 → 클라이언트**: 가능 메시지 전송
    - **클라이언트**: 연결 메시지 전송
- **소켓**
    - 두 컴퓨터가 통신을 하기 위해 연결된 끝점
    - `IP 주소:포트 번호`의 쌍을 표현